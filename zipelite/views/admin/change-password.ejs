<% var title = 'Cambiar contraseña'; %>

<div class="container mt-5 text-light" style="max-width: 600px;">
  <div class="card bg-dark border-secondary shadow-lg rounded-4">
    <div class="card-header border-secondary text-center">
      <h3 class="fw-bold text-danger mb-0">🔐 Cambiar Contraseña</h3>
    </div>

    <div class="card-body">
      <!-- ⚠️ Mostrar errores -->
      <%- include('../partials/errors', { errores }) %>

      <!-- ✅ Mensaje de éxito -->
      <% if (ok) { %>
        <div class="alert alert-success border-0 rounded-4 shadow-sm py-2 px-3 mb-3">
          <i class="bi bi-check-circle-fill me-2"></i>
          <%= ok %>
        </div>
      <% } %>

      <!-- 🧩 Formulario -->
      <form method="POST" action="/admin/cambiar-password" class="row g-3">
        <input type="hidden" name="_csrf" value="<%= csrfToken %>">

        <div class="col-12">
          <label class="form-label fw-semibold">Contraseña actual</label>
          <input
            type="password"
            name="actual"
            class="form-control bg-dark text-light border-secondary"
            placeholder="Tu contraseña actual"
            required
          >
        </div>

        <div class="col-md-6">
          <label class="form-label fw-semibold">Nueva contraseña</label>
          <input
            type="password"
            name="nueva"
            class="form-control bg-dark text-light border-secondary"
            placeholder="Nueva contraseña"
            required
            minlength="8"
          >
        </div>

        <div class="col-md-6">
          <label class="form-label fw-semibold">Confirmar nueva contraseña</label>
          <input
            type="password"
            name="confirmar"
            class="form-control bg-dark text-light border-secondary"
            placeholder="Repite la nueva contraseña"
            required
            minlength="8"
          >
        </div>

        <div class="col-12 mt-2">
          <button class="btn btn-danger w-100 py-2 fw-bold">
            Actualizar contraseña
          </button>
        </div>
      </form>
    </div>

    <div class="card-footer text-center text-secondary small">
      <a href="/admin/panel" class="text-decoration-none text-secondary">← Volver al panel</a>
    </div>
  </div>
</div>
